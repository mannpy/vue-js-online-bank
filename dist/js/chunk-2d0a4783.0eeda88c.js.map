{"version":3,"sources":["webpack:///./src/views/Request.vue","webpack:///./src/views/Request.vue?3fbe"],"names":["class","for","value","loading","request","back","title","fio","phone","currency","amount","type","status","name","id","remove","hasChanges","update","$route","params","components","AppPage","AppLoader","AppStatus","setup","route","router","store","dispatch","push","data","render","__scopeId"],"mappings":"qNAGO,eAA8B,cAAtB,iBAAa,G,EACrB,eAAwB,cAAhB,WAAO,G,EACf,eAAsB,cAAd,SAAK,G,EACb,eAAuB,cAAf,UAAM,G,iBAAS,M,GAErBA,MAAM,gB,EACT,eAAkC,SAA3BC,IAAI,UAAS,UAAM,G,EAExB,eAAsC,UAA9BC,MAAM,QAAO,YAAQ,G,EAC7B,eAA0C,UAAlCA,MAAM,aAAY,WAAO,G,EACjC,eAAuC,UAA/BA,MAAM,UAAS,WAAO,G,EAC9B,eAA4C,UAApCA,MAAM,WAAU,eAAW,G,SAO9BF,MAAM,0B,sJApBC,EAAAG,S,iBAAlB,eAA6B,YACY,EAAAC,S,iBAAzC,eAkBW,G,MAlBDC,KAAA,GAAKC,MAAM,U,YACnB,iBAAwD,CAAxD,eAAwD,UAArD,E,eAA8B,KAAE,eAAG,EAAAF,QAAQG,KAAG,KACjD,eAAoD,UAAjD,E,eAAwB,KAAE,eAAG,EAAAH,QAAQI,OAAK,KAC7C,eAA6D,UAA1D,E,eAAsB,KAAE,eAAG,EAAAC,SAAS,EAAAL,QAAQM,SAAM,KACrD,eAAqE,UAAlE,E,EAAyB,eAAqC,GAAxBC,KAAM,EAAAP,QAAQQ,Q,mBAEvD,eAQM,MARN,EAQM,CAPJ,E,eACA,eAKS,UALDC,KAAK,SAASC,GAAG,S,qDAAkB,EAAAF,OAAM,K,CAC/C,EACA,EACA,EACA,G,cAJyC,EAAAA,YAQ7C,eAA2D,UAAnDZ,MAAM,aAAc,QAAK,8BAAE,EAAAe,QAAA,EAAAA,OAAA,sBAAQ,WACD,EAAAC,Y,iBAA1C,eAAuE,U,MAA/DhB,MAAM,MAAO,QAAK,8BAAE,EAAAiB,QAAA,EAAAA,OAAA,sBAA0B,a,mDAExD,eAEK,KAFL,EAA0C,kBAC1B,eAAG,EAAAC,OAAOC,OAAOL,IAAK,QACtC,O,4GAYa,GACbD,KAAM,UACNO,WAAY,CAACC,UAAA,KAASC,YAAA,KAAWC,YAAA,MACjCC,MAHa,WAIX,IAAMC,EAAQ,iBACRC,EAAS,iBACTC,EAAQ,iBACRf,EAAS,iBACTT,EAAU,gBAAI,GACdC,EAAU,eAAI,IAEpB,eAAS,wCAAC,2GACRD,EAAQD,OAAQ,EADR,SAEcyB,EAAMC,SAAS,mBAAoBH,EAAMN,OAAOL,IAF9D,OAERV,EAAQF,MAFA,OAGRU,EAAOV,MAAP,UAAeE,EAAQF,aAAvB,aAAe,EAAeU,OAC9BT,EAAQD,OAAQ,EAJR,4CAOV,IAAMc,EAAa,gBAAS,kBAAMZ,EAAQF,MAAMU,SAAWA,EAAOV,SAE5Da,EAAK,yDAAI,8GACPY,EAAMC,SAAS,iBAAkBH,EAAMN,OAAOL,IADvC,OAEbY,EAAOG,KAAK,KAFC,2CAAJ,qDAKLZ,EAAK,yDAAI,2GACPa,EADO,iCACI1B,EAAQF,OADZ,IACmBU,OAAQA,EAAOV,MAAOY,GAAIW,EAAMN,OAAOL,KAD1D,SAEPa,EAAMC,SAAS,iBAAkBE,GAF1B,OAGb1B,EAAQF,MAAMU,OAASA,EAAOV,MAHjB,2CAAJ,qDAMX,MAAO,CAACC,UAASC,UAASK,WAAA,KAAUM,SAAQE,SAAQL,SAAQI,gBC/DhE,EAAOe,OAASA,EAChB,EAAOC,UAAY,kBAEJ","file":"js/chunk-2d0a4783.0eeda88c.js","sourcesContent":["<template>\n  <app-loader v-if=\"loading\" />\n  <app-page back title=\"Заявка\" v-else-if=\"request\">\n    <p><strong>Имя владельца</strong>: {{ request.fio }}</p>\n    <p><strong>Телефон</strong>: {{ request.phone }}</p>\n    <p><strong>Сумма</strong>: {{ currency(request.amount) }}</p>\n    <p><strong>Статус</strong>: <app-status :type=\"request.status\" /></p>\n\n    <div class=\"form-control\">\n      <label for=\"status\">Статус</label>\n      <select name=\"status\" id=\"status\" v-model=\"status\">\n        <option value=\"done\">Завершен</option>\n        <option value=\"cancelled\">Отменен</option>\n        <option value=\"active\">Активен</option>\n        <option value=\"pending\">Выполняется</option>\n      </select>\n    </div>\n\n    <button class=\"btn danger\" @click=\"remove\">Удалить</button>\n    <button class=\"btn\" @click=\"update\" v-if=\"hasChanges\">Обновить</button>\n  </app-page>\n  <h3 v-else class=\"text-center text-white\">\n    Заявки с ID = {{ $route.params.id }} нет\n  </h3>\n</template>\n\n<script>\nimport AppPage from \"@/components/ui/AppPage\";\nimport AppLoader from \"@/components/ui/AppLoader\";\nimport AppStatus from \"@/components/ui/AppStatus\";\nimport {useRoute, useRouter} from \"vue-router\";\nimport {computed, onMounted, ref} from \"vue\";\nimport {useStore} from \"vuex\";\nimport {currency} from \"@/utils/currency\";\n\nexport default {\n  name: \"Request\",\n  components: {AppPage, AppLoader, AppStatus},\n  setup() {\n    const route = useRoute()\n    const router = useRouter()\n    const store = useStore()\n    const status = ref()\n    const loading = ref(true)\n    const request = ref({})\n\n    onMounted(async () => {\n      loading.value = true\n      request.value = await store.dispatch('request/loadById', route.params.id)\n      status.value = request.value?.status\n      loading.value = false\n    })\n\n    const hasChanges = computed(() => request.value.status !== status.value)\n\n    const remove = async () => {\n      await store.dispatch('request/remove', route.params.id)\n      router.push('/')\n      debugger\n    }\n    const update = async () => {\n      const data = {...request.value, status: status.value, id: route.params.id}\n      await store.dispatch('request/update', data)\n      request.value.status = status.value\n    }\n\n    return {loading, request, currency, remove, update, status, hasChanges }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>","import { render } from \"./Request.vue?vue&type=template&id=629ee7e8&scoped=true\"\nimport script from \"./Request.vue?vue&type=script&lang=js\"\nexport * from \"./Request.vue?vue&type=script&lang=js\"\nscript.render = render\nscript.__scopeId = \"data-v-629ee7e8\"\n\nexport default script"],"sourceRoot":""}